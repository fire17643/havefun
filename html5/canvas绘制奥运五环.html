<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Canvas-arc</title>
</head>
<body>
<canvas id="myctx" width="800" height="600" style="display:block;margin:0 auto;background-color:#ccc;">您的浏览器不支持Canvas标签。</canvas>
<script>
function circle(param){
	this.obj = typeof param.id == 'string' ? document.getElementById(param.id) : param.id;
	this.cs = param.circles;
	this.len = this.cs.length;
	this.init();
}
circle.prototype = {
	init:function(){
		var _this = this;
		var ctx = _this.obj.getContext("2d");
		for(var i = 0; i < _this.len; i++){
			ctx.beginPath();
			ctx.moveTo(_this.cs[i].center.x + _this.cs[i].radius * Math.cos(_this.cs[i].angles.start),_this.cs[i].center.y + _this.cs[i].radius * Math.sin(_this.cs[i].angles.start));
			ctx.lineWidth = _this.cs[i].lineWidth;
			ctx.strokeStyle = _this.cs[i].color;
			ctx.arc(_this.cs[i].center.x,_this.cs[i].center.y,_this.cs[i].radius,_this.cs[i].angles.start,_this.cs[i].angles.end,false);
			ctx.stroke();
			ctx.closePath();
		}
	}
}
var demo = [
		{center:{"x":55,"y":55},radius:50,lineWidth:10,angles:{"start":0,"end":2 * Math.PI},color:"#fff"}
	];
var cs = [
		{center:{"x":275,"y":360},radius:100,lineWidth:25,angles:{"start":1.3 * Math.PI,"end":1.5 * Math.PI},color:"#fda811"},
		{center:{"x":160,"y":250},radius:100,lineWidth:25,angles:{"start":0,"end":2 * Math.PI},color:"#3b7cb6"},
		{center:{"x":275,"y":360},radius:100,lineWidth:25,angles:{"start":-0.2 * Math.PI,"end":1.3 * Math.PI},color:"#fda811"},
		{center:{"x":525,"y":360},radius:100,lineWidth:25,angles:{"start":1.3,"end":1.5 * Math.PI},color:"#2d9b2b"},
		{center:{"x":400,"y":250},radius:100,lineWidth:25,angles:{"start":0,"end":2 * Math.PI},color:"#150f11"},
		{center:{"x":640,"y":250},radius:100,lineWidth:25,angles:{"start":0.8 * Math.PI,"end":2 * Math.PI},color:"#fc0203"},
		{center:{"x":275,"y":360},radius:100,lineWidth:25,angles:{"start":1.5 * Math.PI,"end":1.8 * Math.PI},color:"#fda811"},
		{center:{"x":525,"y":360},radius:100,lineWidth:25,angles:{"start":-0.5 * Math.PI,"end":1.3 * Math.PI},color:"#2d9b2b"},
		{center:{"x":640,"y":250},radius:100,lineWidth:25,angles:{"start":0,"end":0.8 * Math.PI},color:"#fc0203"}
	];
new circle({"id":"myctx",circles:demo});
new circle({"id":"myctx",circles:cs});
var i = -110;
setInterval(function(){
	if(i < 800){
		var id = document.getElementById("myctx");
		ctx = id.getContext("2d");
		ctx.clearRect(0,0,800,600);
		demo = [{center:{"x":55 + i,"y":300 + 200 * Math.sin(i * Math.PI/180)},radius:50,lineWidth:10,angles:{"start":0,"end":2 * Math.PI},color:"#fff"}];
		new circle({"id":"myctx",circles:demo});
		new circle({"id":"myctx",circles:cs});
		i += 10;
	}else{
		i = -110;
	}
},50);
</script>
</body>
</html>
